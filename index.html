<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>D3 Skyler Lin</title>
  <style>
    body {
      font-family: sans-serif;
      background: #ffffff;
    }
  </style>
</head>

<body>
  <div id="container"></div>

  <!-- Load d3 -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>

  <script>
    console.log(d3); // d3 loads on chrome

    const width = 600;
    const height = 400;

    //  SVG
    const svg = d3
      .select("#container")
      .append("svg")
      .attr("width", width)
      .attr("height", height)
      .style("background", "white");



// Postcard rectangle
const postcardX = 40;
const postcardY = 40;
const postcardWidth = 320;
const postcardHeight = 200;

// Outside border
svg.append("rect")
  .attr("x", postcardX)
  .attr("y", postcardY)
  .attr("width", postcardWidth)
  .attr("height", postcardHeight)
  .attr("rx", 12)
  .attr("ry", 12)
  .attr("fill", "#fff8ef")
  .attr("stroke", "#d4bfa3")
  .attr("stroke-width", 3);

// Inside border
svg.append("rect")
  .attr("x", postcardX + 12)
  .attr("y", postcardY + 12)
  .attr("width", postcardWidth - 24)
  .attr("height", postcardHeight - 24)
  .attr("fill", "none")
  .attr("stroke", "#e2c9a8")
  .attr("stroke-dasharray", "6,4");

// Half line 
svg.append("line")
  .attr("x1", postcardX + postcardWidth / 2)
  .attr("y1", postcardY + 20)
  .attr("x2", postcardX + postcardWidth / 2)
  .attr("y2", postcardY + postcardHeight - 20)
  .attr("stroke", "#c2b59b")
  .attr("stroke-width", 2);

// Address lines
for (let i = 0; i < 4; i++) {
  svg.append("line")
    .attr("x1", postcardX + postcardWidth / 2 + 20)
    .attr("y1", postcardY + 60 + i * 25)
    .attr("x2", postcardX + postcardWidth - 30)
    .attr("y2", postcardY + 60 + i * 25)
    .attr("stroke", "#9e9e9e")
    .attr("stroke-width", 1.5);
}

// Stamp
svg.append("rect")
  .attr("x", postcardX + postcardWidth - 66)
  .attr("y", postcardY + 25)
  .attr("width", 40)
  .attr("height", 40)
  .attr("fill", "#c44d58")
  .attr("stroke", "#8c2f39")
  .attr("stroke-width", 2);

// Dots on the stamp
for (let i = 0; i < 8; i++) {
  svg.append("circle")
    .attr("cx", postcardX + postcardWidth - 70 + i * 6 + 3)
    .attr("cy", postcardY + 23)
    .attr("r", 1.5)
    .attr("fill", "#8c2f39");

  svg.append("circle")
    .attr("cx", postcardX + postcardWidth - 70 + i * 6 + 3)
    .attr("cy", postcardY + 67)
    .attr("r", 1.5)
    .attr("fill", "#8c2f39");
}



    
// Polygon (triangle)

// Cheese base 

// Polygon (triangle)
const cheesePoints = "450,250 520,350 380,350";

const defs = svg.append("defs");

const biteClip = defs.append("clipPath")
  .attr("id", "cheese-clip");

// Base cheese shape
biteClip.append("polygon")
  .attr("points", cheesePoints);

// Bite (circle cut-out)
biteClip.append("circle")
  .attr("cx", 500)
  .attr("cy", 315)
  .attr("r", 22);

const cheeseGroup = svg.append("g")
  .attr("class", "cheese")
  .style("cursor", "pointer")
  .on("mouseenter", function () {
    d3.select(this)
      .attr("clip-path", "url(#cheese-clip)");
  })
  .on("mouseleave", function () {
    d3.select(this)
      .attr("clip-path", null);
  });

cheeseGroup.append("polygon")
  .attr("points", cheesePoints)
  .attr("fill", "#f4c430")
  .attr("stroke", "#d4a017")
  .attr("stroke-width", 3);

// cheese rind
cheeseGroup.append("polyline")
  .attr("points", "450,250 520,350")
  .attr("fill", "none")
  .attr("stroke", "#c9a227")
  .attr("stroke-width", 6)
  .attr("stroke-linecap", "round");

cheeseGroup.append("polyline")
  .attr("points", "450,250 380,350")
  .attr("fill", "none")
  .attr("stroke", "#c9a227")
  .attr("stroke-width", 6)
  .attr("stroke-linecap", "round");

// cheese holes
const holes = [
  { cx: 450, cy: 305, r: 10 },
  { cx: 425, cy: 330, r: 6 },
  { cx: 480, cy: 330, r: 8 }
];

cheeseGroup.selectAll(".cheese-hole")
  .data(holes)
  .enter()
  .append("circle")
  .attr("class", "cheese-hole")
  .attr("cx", d => d.cx)
  .attr("cy", d => d.cy)
  .attr("r", d => d.r)
  .attr("fill", "#f9e27d")
  .attr("stroke", "#e0c15a")
  .attr("stroke-width", 1);

// highltgher 
cheeseGroup.append("path")
  .attr("d", `
    M 445 275
    Q 460 290 470 315
  `)
  .attr("fill", "none")
  .attr("stroke", "rgba(255,255,255,0.6)")
  .attr("stroke-width", 4)
  .attr("stroke-linecap", "round");





  </script>
</body>
</html>
